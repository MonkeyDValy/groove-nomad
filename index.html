<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Groove Nomad</title>
  <link rel="stylesheet" href="style.css" />
</head>
<!-- Chatbot Chatbase -->
    <!-- Bouton flottant pour ouvrir le chatbot -->
<button id="chat-toggle" style="
  position: fixed;
  bottom: 20px;
  right: 20px;
  background-color: #1f1f1f;
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  font-size: 28px;
  cursor: pointer;
  z-index: 9999;
">💬</button>

<!-- Iframe Chatbot (caché au début) -->
<iframe
  id="chatbot-iframe"
  src="https://www.chatbase.co/chatbot-iframe/CNB2bBgnuSIQ5jCGyBlvZ"
  width="350"
  height="500"
  style="
    display: none;
    position: fixed;
    bottom: 90px;
    right: 20px;
    border: none;
    border-radius: 12px;
    z-index: 9998;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
  "
  allow="clipboard-write"
></iframe>

<script>
  const chatbot = document.getElementById("chatbot-iframe");
  const toggleBtn = document.getElementById("chat-toggle");

  toggleBtn.addEventListener("click", () => {
    if (chatbot.style.display === "none" || chatbot.style.display === "") {
      chatbot.style.display = "block";
    } else {
      chatbot.style.display = "none";
    }
  });
</script>
<body>

    <!-- HEADER -->
    <header class="main-header">
  <nav class="navbar">
    <ul>
      <li><a href="index.html">Groove Nomad</a></li>
      <li><a href="blog.html">Blog</a></li>
      <li><a href="festivals.html">Festivals</a></li>
      <li><a href="tourisme.html">Tourisme</a></li>
      <li><a href="destination.html">Destinations</a></li>
      <li><a href="reservation.html">Réservation</a></li> <!-- 🔁 ici -->
    </ul>
    <div class="user">
      <img src="img/user-icon.png" alt="Profil" />
      <a href="#">Connexion</a>
    </div>
  </nav>
  </header>

  <!-- Hero Section -->
  <header class="hero">
    <h1>🎶 Groove Nomad</h1>
    <p>Explore le monde à travers la musique</p>
  </header>
  <section class="filters">
  <select id="Genre">
    <option value="" disabled selected>🎶 Style de musique</option>
    <option value="Afro">Afro</option>
    <option value="Jazz">Jazz</option>
    <option value="Jpop">Jpop</option>
    <option value="Latino">Latino</option>
    <option value="Pop">Pop</option>
    <option value="House">House</option>
    <option value="Rock">Rock</option>
    <option value="Trance">Trance</option>
    <option value="EDM">EDM</option>
  </select>

  <select id="Country">
    <option value="" disabled selected>📍 Destination</option>
    <option value="Colombia">Colombia</option>
    <option value="Germany">Germany</option>
    <option value="Japan">Japan</option>
    <option value="Nigeria">Nigeria</option>
    <option value="Portugal">Portugal</option>
    <option value="Spain">Spain</option>
    <option value="Switzerland">Switzerland</option>
    <option value="USA">USA</option>
  </select>
  <button id="searchBtn">🔍 Rechercher</button>
  </section>


  <!-- Coup de cœur Festivals -->
  <section class="favorites">
  <h2>Nos festivals coups de cœur du mois</h2>
  <div class="grid">
    
    <a href="afronation.html" class="festival-card">
      <img src="img/Afronation.jpeg" alt="Afronation" />
      <h3>Afronation</h3>
    </a>

    <a href="tomorrowland.html" class="festival-card">
      <img src="img/Tomorrowland.jpg" alt="Tomorrowland" />
      <h3>Tomorrowland</h3>
    </a>

    <a href="lollapalooza.html" class="festival-card">
      <img src="img/Lollapalooza.jpeg" alt="Lollapalooza" />
      <h3>Lollapalooza</h3>
    </a>

  </div>
  <h2>Les activités à ne pas manquer dans chaque ville</h2>
  <div class="activity-grid">
  <div class="activity-card" style="background-image: url('img/paris-activite.jpg');">
    <div class="activity-overlay">
      <h4>Festival Lumières</h4>
      <p>📍 Paris<br>📅 12-14 août<br>💶 95€</p>
      <button class="fav-btn">🩶</button>
    </div>
  </div>

  <div class="activity-card" style="background-image: url('img/berlin-activite.jpg');">
    <div class="activity-overlay">
      <h4>Berlin Beats</h4>
      <p>📍 Berlin<br>📅 20-23 juillet<br>💶 110€</p>
      <button class="fav-btn">🩶</button>
    </div>
  </div>

  <div class="activity-card" style="background-image: url('img/lisbonne-activite.jpg');">
    <div class="activity-overlay">
      <h4>Lisboa Sound</h4>
      <p>📍 Lisbonne<br>📅 18-20 septembre<br>💶 85€</p>
      <button class="fav-btn">🩶</button>
    </div>
  </div>

  <div class="activity-card" style="background-image: url('img/amsterdam-activite.jpg');">
    <div class="activity-overlay">
      <h4>Canal Rave</h4>
      <p>📍 Amsterdam<br>📅 5-7 août<br>💶 120€</p>
      <button class="fav-btn">🩶</button>
    </div>
  </div>
  </div>

  <!-- Types de musiques -->
  <h2>Les types de musiques</h2>
  <div class="type-scroll">
    <div class="festival-type-card" style="background-image: url('img/afro.webp');">Afro</div>
    <div class="festival-type-card" style="background-image: url('img/rock.jpg');">Rock</div>
    <div class="festival-type-card" style="background-image: url('img/house.jpg');">House</div>
    <div class="festival-type-card" style="background-image: url('img/jpop.jpg');">Jpop</div>
    <div class="festival-type-card" style="background-image: url('img/electro.jpg');">EDM</div>
    <div class="festival-type-card" style="background-image: url('img/pop.jpg');">Pop</div>
    <div class="festival-type-card" style="background-image: url('img/latino.jpg');">Latino</div>
    <div class="festival-type-card" style="background-image: url('img/jazz.jpg');">Jazz</div>
    <div class="festival-type-card" style="background-image: url('img/trance.webp');">Trance</div>
  </div>

  </div>
  </section>


  <!-- Avis clients -->
  <section class="testimonials">
    <h2>Avis clients</h2>
    <div class="testimonial">
      <p>"Une organisation au top, merci Groove Nomad !"</p>
      <span>- Sarah M.</span>
    </div>
    <div class="testimonial">
      <p>"Tomorrowland avec eux ? Un rêve devenu réalité."</p>
      <span>- Karim B.</span>
    </div>
  </section>


<!-- FOOTER -->
<footer class="main-footer">
  <div class="footer-content">
    <div class="footer-links">
      <a href="#">Contact</a>
      <a href="#">Mentions légales</a>
      <a href="#">Politique de confidentialité</a>
    </div>
    <p>&copy; 2025 Groove Nomad — Tous droits réservés.</p>
  </div>
</footer>
<script>
  document.querySelectorAll('.fav-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      btn.classList.toggle('active');
      btn.textContent = btn.classList.contains('active') ? '🩶' : '💜';
    });
  });
</script>

<script>
  const airtableToken = "patsYgrjMwn48RkHm.b0ee5cb64fc5682050f415907408221db38733924d614d2120f24f1dac8ce14c";
  const baseId = "appPsESqzFCuYpyK3";
  const tableName = "Festivals";

  async function loadFilters() {
    const url = `https://api.airtable.com/v0/${baseId}/${tableName}?pageSize=100`;
    const res = await fetch(url, {
      headers: { Authorization: `Bearer ${airtableToken}` }
    });

    const data = await res.json();
    const genres = new Set();
    const countries = new Set();

    data.records.forEach(r => {
      const f = r.fields;
      if (f.Genre) f.Genre.split(",").forEach(g => genres.add(g.trim()));
      if (f.Country) countries.add(f.Country.trim());
    });

    const genreSelect = document.getElementById("genreFilter");
    const countrySelect = document.getElementById("countryFilter");

    [...genres].sort().forEach(g => {
      const opt = document.createElement("option");
      opt.value = g;
      opt.textContent = g;
      genreSelect.appendChild(opt);
    });

    [...countries].sort().forEach(c => {
      const opt = document.createElement("option");
      opt.value = c;
      opt.textContent = c;
      countrySelect.appendChild(opt);
    });
  }

  loadFilters();

</script>
<script>
  document.getElementById("searchBtn").addEventListener("click", () => {
    const genre = document.getElementById("Genre").value;
    const country = document.getElementById("Country").value;

    const url = `resultats.html?genre=${encodeURIComponent(genre)}&country=${encodeURIComponent(country)}`;
    window.location.href = url;
  });
</script>

</body>
</html>
